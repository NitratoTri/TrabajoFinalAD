<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CRUD de Mesas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="../img/icon.jpg">
</head>
<body>

<!-- Barra de navegación -->
<div th:replace="index :: main_navbar"></div>
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-lg rounded-4">
                <div class="card-body">
                    <h1 class="text-center mb-4 text-primary fw-bold">Listado de Mesas</h1>
                    <div class="d-flex justify-content-end mb-3">
                        <a class="btn btn-primary btn-lg rounded-pill" th:href="@{/admin/insertarmesa}">
                            <i class="bi bi-plus-circle"></i> Nueva Mesa
                        </a>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover align-middle">
                            <thead class="table-primary">
                            <tr>
                                <th>ID</th>
                                <th>Número</th>
                                <th>Capacidad</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="mesa : ${mesas}">
                                <td th:text="${mesa.id}"></td>
                                <td th:text="${mesa.numero}"></td>
                                <td th:text="${mesa.capacidad}"></td>
                                <td th:text="${#dates.format(mesa.fecha, 'dd/MM/yyyy')}"></td>
                                <td>
                                    <form th:action="@{/crud/modificarmesa}" method="post" class="d-inline">
                                        <input type="hidden" name="id" th:value="${mesa.id}">
                                        <input type="hidden" name="reservado" th:value="${mesa.reservado}">
                                        <button type="submit" class="btn btn-warning btn-sm rounded-pill">
                                            <i class="bi bi-pencil-square"></i> Editar
                                        </button>
                                    </form>
                                    <form th:action="@{/crud/eliminarmesa}" method="post" class="d-inline">
                                        <input type="hidden" name="id" th:value="${mesa.id}">
                                        <button type="submit" class="btn btn-danger btn-sm rounded-pill">
                                            <i class="bi bi-trash"></i> Eliminar
                                        </button>
                                    </form>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    body {
        background: linear-gradient(135deg, #e0e7ff 0%, #f8fafc 100%);
        min-height: 100vh;
    }
    .card {
        border-radius: 2rem;
        border: none;
    }
    .table thead th {
        font-weight: 600;
        letter-spacing: 1px;
    }
    .btn-primary, .btn-warning, .btn-danger {
        font-weight: 600;
        letter-spacing: 1px;
    }
    @media (max-width: 768px) {
        .card {
            border-radius: 1rem;
        }
        .btn-lg {
            font-size: 1rem;
            padding: 0.5rem 1.2rem;
        }
    }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div th:replace="index :: scripts"></div>
</body>
</html>
